<div class='listable-data' ng-class="{'list-view' : ctrl.isListMode(), 'grid-view' : ctrl.isGridMode()}">
	<header>
		<div class="btn-group">
		  <button type="button" class="btn button" 
		  	ng-click="ctrl.switchToViewMode('list')"
		  	ng-class="{'active' : ctrl.isListMode()}"
		  >
		  	<span class='glyphicon glyphicon-th-list'></span>
		  </button>
		  <button type="button" class="btn button" 
		  	ng-click="ctrl.switchToViewMode('grid')"
		  	ng-class="{'active' : ctrl.isGridMode()}"
		  >
		  	<span class='glyphicon glyphicon-th'></span>
		  </button>
		  <button type="button" class="btn button" ng-if="ctrl.refreshDataAction" ng-click="ctrl.refreshDataAction()">
		  	<span class='glyphicon glyphicon-refresh'></span>
		  </button>
		</div>
		<section class='right-section'>
			<div class='search-bar with-remove-option' ng-if="ctrl.isSearchModeOn()">
				<span class='glyphicon glyphicon-search'></span>
				<input ng-model="ctrl.searchText" ng-attr-placeholder="{{'navbar.search.placeholder' | translate}}"/>
				<span class='glyphicon glyphicon-remove remove-option' ng-click="ctrl.switchSearchMode()"></span>
			</div>
			<button type="button" class="btn button" ng-if="!ctrl.isSearchModeOn()" ng-click="ctrl.switchSearchMode()">
				<span class='glyphicon glyphicon-search'></span>
				<span translate="button.search"></span>
			</button>
		</section>
	</header>
	
	<div class='list'>
		<div ng-if="ctrl.groupField != null">
			<div class='group' ng-repeat="(groupName, groupItems) in ctrl.list | filter: ctrl.filterItems | groupBy: ctrl.groupField">
				<div class='group-name' ng-if="groupName != 'undefined'">
					<h3 ng-bind="groupName"></h3>
				</div>
				<div class='list-item' ng-repeat="item in groupItems">
					<compile-html html="{{ctrl.createDirectiveForItem()}}"></compile-html>
				</div>
			</div>
		</div>
		<div class='group' ng-if="ctrl.groupField == null">
			<div class='list-item' ng-repeat="item in ctrl.list | filter: ctrl.filterItems">
				<compile-html html="{{ctrl.createDirectiveForItem()}}"></compile-html>
			</div>
		</div>
	</div>
</div>